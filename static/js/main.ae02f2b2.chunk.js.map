{"version":3,"sources":["api/index.js","slices/photos.js","components/SearchForm.js","components/GridGallery.js","slices/manifest.js","components/Manifest.js","components/SelectRoverForm.js","App.js","slices/index.js","index.js"],"names":["instance","Axios","create","baseURL","params","api_key","photosSlice","createSlice","name","initialState","loading","hasErrors","photos","reducers","getPhotos","state","getPhotosSuccess","payload","getPhotosFailure","actions","photosSelector","SearchForm","rover","manifest","sol","earthDate","camera","setSol","setEarthDate","setCamera","availableCameras","React","activatedInput","setActivatedInput","dispatch","useDispatch","className","RadioGroup","defaultValue","aria-label","onChange","e","target","value","FormControlLabel","control","Radio","label","onSubmit","preventDefault","a","objParams","earth_date","axios","get","response","data","fetchPhotos","Tooltip","title","TextField","id","type","InputProps","inputProps","min","max","max_sol","InputLabelProps","shrink","fullWidth","required","landing_date","max_date","InputLabel","Select","labelId","map","MenuItem","Button","variant","color","children","GridGallery","currentPage","setCurrentPage","useSelector","indexOfLastPhoto","indexOfFirstPhoto","currentPhotos","slice","totalPages","Math","ceil","Number","length","CircularProgress","margin","images","enableImageSelection","backdropClosesModal","showCloseButton","showImageCount","Pagination","count","page","event","size","manifestSlice","getManifest","getManifestSuccess","getManifestFailure","manifestSelector","Manifest","launch_date","SelectRoverForm","setRover","src","alt","App","setAvailableCameras","photo_manifest","fetchManifest","latest_photos","fetchLatestPhotos","href","filteredPhotos","forEach","photo","push","img_src","thumbnail","thumbnailWidth","thumbnailHeight","normalizePhotos","rel","rootReducer","combineReducers","photosReducer","manifestReducer","store","configureStore","reducer","render","document","getElementById"],"mappings":"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","file":"static/js/main.ae02f2b2.chunk.js","sourcesContent":["import Axios from \"axios\"\r\n\r\nconst instance = Axios.create({\r\n\tbaseURL: \"https://api.nasa.gov/mars-photos/api/v1/\",\r\n\tparams: { api_key: \"HBh7tVBsNeFVpQdfghC8wdqHaWw674JjQ1AAHscC\" },\r\n})\r\n\r\nexport default instance\r\n","import axios from \"../api\"\r\nimport { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nexport const initialState = {\r\n\tloading: false,\r\n\thasErrors: false,\r\n\tphotos: [],\r\n}\r\n\r\nconst photosSlice = createSlice({\r\n\tname: \"photos\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tgetPhotos: (state) => {\r\n\t\t\tstate.loading = true\r\n\t\t},\r\n\t\tgetPhotosSuccess: (state, { payload }) => {\r\n\t\t\tstate.photos = payload\r\n\t\t\tstate.loading = false\r\n\t\t\tstate.hasErrors = false\r\n\t\t},\r\n\t\tgetPhotosFailure: (state) => {\r\n\t\t\tstate.loading = false\r\n\t\t\tstate.hasErrors = true\r\n\t\t},\r\n\t},\r\n})\r\n\r\n// Actions\r\nexport const { getPhotos, getPhotosSuccess, getPhotosFailure } = photosSlice.actions\r\n// Reducer\r\nexport default photosSlice.reducer\r\n// Selector\r\nexport const photosSelector = (state) => state.photos\r\n\r\n// Async thunk actions\r\n\r\nexport const fetchLatestPhotos = (rover) => async (dispatch) => {\r\n\tdispatch(getPhotos())\r\n\r\n\ttry {\r\n\t\tconst response = await axios.get(`rovers/${rover}/latest_photos`)\r\n\t\tdispatch(getPhotosSuccess(response.data.latest_photos))\r\n\t} catch (error) {\r\n\t\tdispatch(getPhotosFailure())\r\n\t}\r\n}\r\n\r\nexport const fetchPhotos = (rover, sol = null, earthDate = null, camera = null) => async (dispatch) => {\r\n\tlet objParams = {}\r\n\tif (!camera) {\r\n\t\tif (sol) {\r\n\t\t\tobjParams = { params: { sol: sol } }\r\n\t\t} else {\r\n\t\t\tobjParams = { params: { earth_date: earthDate } }\r\n\t\t}\r\n\t} else {\r\n\t\tif (sol) {\r\n\t\t\tobjParams = { params: { sol: sol, camera: camera } }\r\n\t\t} else {\r\n\t\t\tobjParams = { params: { earth_date: earthDate, camera: camera } }\r\n\t\t}\r\n\t}\r\n\tdispatch(getPhotos())\r\n\ttry {\r\n\t\tconst response = await axios.get(`rovers/${rover}/photos`, objParams)\r\n\t\tdispatch(getPhotosSuccess(response.data.photos))\r\n\t} catch (error) {\r\n\t\tdispatch(getPhotosFailure())\r\n\t}\r\n}\r\n","import * as React from \"react\"\r\nimport { Button, FormControlLabel, InputLabel, MenuItem, Radio, RadioGroup, Select, TextField, Tooltip } from \"@material-ui/core\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { fetchPhotos } from \"../slices/photos\"\r\n\r\nexport const SearchForm = ({ rover, manifest, sol, earthDate, camera, setSol, setEarthDate, setCamera, availableCameras }) => {\r\n\t// State\r\n\tconst [activatedInput, setActivatedInput] = React.useState(\"sol\")\r\n\r\n\t// Redux hooks\r\n\tconst dispatch = useDispatch()\r\n\t// Handlers\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(fetchPhotos(rover, sol, earthDate, camera))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='card card-search'>\r\n\t\t\t<h2>Search photos by...</h2>\r\n\t\t\t<hr />\r\n\t\t\t<div className='inputs'>\r\n\t\t\t\t{/* Radio Buttos */}\r\n\t\t\t\t<RadioGroup\r\n\t\t\t\t\tdefaultValue={activatedInput}\r\n\t\t\t\t\taria-label='rover'\r\n\t\t\t\t\tname='rover'\r\n\t\t\t\t\tonChange={(e) => setActivatedInput(e.target.value)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormControlLabel value='sol' control={<Radio />} label='Sol' />\r\n\t\t\t\t\t<FormControlLabel value='earth_date' control={<Radio />} label='Earth date' />\r\n\t\t\t\t</RadioGroup>\r\n\r\n\t\t\t\t{/* Sol */}\r\n\t\t\t\t<form className='search-form' onSubmit={handleSubmit}>\r\n\t\t\t\t\t{activatedInput === \"sol\" && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tclassName='formElement'\r\n\t\t\t\t\t\t\ttitle=\"Martian rotation or day on which the photos were taken, counting up from the rover's landing date.\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid='sol'\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tlabel='Sol date (?)'\r\n\t\t\t\t\t\t\t\tvalue={sol}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetSol(e.target.value)\r\n\t\t\t\t\t\t\t\t\tsetEarthDate(\"\")\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{ inputProps: { min: 0, max: manifest.max_sol } }}\r\n\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Earth Date */}\r\n\t\t\t\t\t{activatedInput === \"earth_date\" && (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tclassName='formElement'\r\n\t\t\t\t\t\t\tid='sol'\r\n\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\tlabel='Earth day'\r\n\t\t\t\t\t\t\tInputProps={{ inputProps: { min: manifest.landing_date, max: manifest.max_date } }}\r\n\t\t\t\t\t\t\tvalue={earthDate}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEarthDate(e.target.value)\r\n\t\t\t\t\t\t\t\tsetSol(\"\")\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{/* Camera */}\r\n\t\t\t\t\t<div className='formElement'>\r\n\t\t\t\t\t\t<InputLabel id='Cameral'>Select camera (optional)</InputLabel>\r\n\t\t\t\t\t\t<Select fullWidth labelId='Camera' value={camera} onChange={(e) => setCamera(e.target.value)}>\r\n\t\t\t\t\t\t\t{availableCameras.map((camera) => {\r\n\t\t\t\t\t\t\t\treturn <MenuItem value={camera}>{camera}</MenuItem>\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* Submit */}\r\n\t\t\t\t\t<Button variant='contained' color='primary' type='submit' children='Search' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import Gallery from \"react-grid-gallery\"\r\nimport * as React from \"react\"\r\nimport { Pagination } from \"@material-ui/lab\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { photosSelector } from \"../slices/photos\"\r\nimport { CircularProgress } from \"@material-ui/core\"\r\n\r\nexport const GridGallery = ({ photos }) => {\r\n\tconst [currentPage, setCurrentPage] = React.useState(1)\r\n\tconst { loading, hasErrors } = useSelector(photosSelector)\r\n\r\n\t// Pagination\r\n\tconst photosPerPage = 25\r\n\tconst indexOfLastPhoto = currentPage * photosPerPage\r\n\tconst indexOfFirstPhoto = indexOfLastPhoto - photosPerPage\r\n\tconst currentPhotos = photos.slice(indexOfFirstPhoto, indexOfLastPhoto)\r\n\tconst totalPages = Math.ceil(Number(photos.length) / photosPerPage)\r\n\r\n\tconst handleChange = (event, value) => setCurrentPage(value)\r\n\r\n\treturn (\r\n\t\t<div className='gallery'>\r\n\t\t\t<h2>Gallery</h2>\r\n\t\t\t<hr />\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t\t{hasErrors && <div className='card card-manifest'>An error has occured. Please reload.</div>}\r\n\t\t\t{photos && !loading && (\r\n\t\t\t\t<Gallery\r\n\t\t\t\t\tmargin={10}\r\n\t\t\t\t\timages={currentPhotos}\r\n\t\t\t\t\tenableImageSelection={false}\r\n\t\t\t\t\tbackdropClosesModal={true}\r\n\t\t\t\t\tshowCloseButton={false}\r\n\t\t\t\t\tshowImageCount={false}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{totalPages !== 1 && (\r\n\t\t\t\t<div className='pagination'>\r\n\t\t\t\t\t<Pagination count={totalPages} page={currentPage} onChange={handleChange} variant='text' color='primary' size='large' />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import axios from \"../api\"\r\nimport { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nexport const initialState = {\r\n\tloading: false,\r\n\thasErrors: false,\r\n\tmanifest: {},\r\n}\r\n\r\nconst manifestSlice = createSlice({\r\n\tname: \"manifest\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tgetManifest: (state) => {\r\n\t\t\tstate.loading = true\r\n\t\t},\r\n\t\tgetManifestSuccess: (state, { payload }) => {\r\n\t\t\tstate.manifest = payload\r\n\t\t\tstate.loading = false\r\n\t\t\tstate.hasErrors = false\r\n\t\t},\r\n\t\tgetManifestFailure: (state) => {\r\n\t\t\tstate.loading = false\r\n\t\t\tstate.hasErrors = true\r\n\t\t},\r\n\t},\r\n})\r\n\r\n// Actions\r\nexport const { getManifest, getManifestSuccess, getManifestFailure } = manifestSlice.actions\r\n// Reducer\r\nexport default manifestSlice.reducer\r\n// Selector\r\nexport const manifestSelector = (state) => state.manifest\r\n\r\n// Async thunk actions\r\nexport const fetchManifest = (rover) => async (dispatch) => {\r\n\tdispatch(getManifest())\r\n\r\n\ttry {\r\n\t\tconst response = await axios.get(`manifests/${rover}`)\r\n\t\tdispatch(getManifestSuccess(response.data.photo_manifest))\r\n\t} catch (error) {\r\n\t\tdispatch(getManifestFailure())\r\n\t}\r\n}\r\n","import { CircularProgress } from \"@material-ui/core\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { manifestSelector } from \"../slices/manifest\"\r\n\r\nexport const Manifest = () => {\r\n\tconst { manifest, loading, hasErrors } = useSelector(manifestSelector)\r\n\r\n\treturn (\r\n\t\t<div className='card card-manifest'>\r\n\t\t\t<h2>Mission Manifest</h2>\r\n\t\t\t<hr />\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t\t{hasErrors && <div className='card card-manifest'>An error has occured. Please reload.</div>}\r\n\t\t\t{manifest && !loading && (\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<h3><b>Rover name:</b> {manifest.name}</h3>\r\n\t\t\t\t\t<li><b>Launch Date:</b> {manifest.launch_date}</li>\r\n\t\t\t\t\t<li><b>Landing Date:</b> {manifest.landing_date}</li>\r\n\t\t\t\t\t<li><b>Max Date:</b> {manifest.max_date}</li>\r\n\t\t\t\t\t<li><b>Max Sol:</b> {manifest.max_sol}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { FormControlLabel, Radio, RadioGroup } from \"@material-ui/core\"\r\n\r\nexport const SelectRoverForm = ({ rover, setRover, setSol, setEarthDate }) => {\r\n\tconst handleChange = (e) => {\r\n\t\tsetSol(\"\")\r\n\t\tsetEarthDate(\"\")\r\n\t\tsetRover(e.target.value)\r\n\t}\r\n\treturn (\r\n\t\t<div className='card card-rover'>\r\n\t\t\t<h2>Rovers</h2>\r\n\t\t\t<hr />\r\n\t\t\t<RadioGroup className='radio' defaultValue={rover} aria-label='rover' name='rover' onChange={handleChange}>\r\n\t\t\t\t<FormControlLabel value='curiosity' control={<Radio />} label='Curiosity' />\r\n\t\t\t\t<FormControlLabel value='opportunity' control={<Radio />} label='Opportunity' />\r\n\t\t\t\t<FormControlLabel value='spirit' control={<Radio />} label='Spirit' />\r\n\t\t\t</RadioGroup>\r\n\t\t\t<img id='nasa-logo' src='https://logos-marcas.com/wp-content/uploads/2020/05/NASA-Logo-650x366.png' alt='NASA Logo' />\r\n\t\t</div>\r\n\t)\r\n}\r\n","import * as React from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { SearchForm } from \"./components/SearchForm\"\r\nimport { GridGallery } from \"./components/GridGallery\"\r\nimport { Manifest } from \"./components/Manifest\"\r\nimport { fetchManifest, manifestSelector } from \"./slices/manifest\"\r\nimport { fetchLatestPhotos, photosSelector } from \"./slices/photos\"\r\nimport { SelectRoverForm } from \"./components/SelectRoverForm\"\r\n\r\nconst App = () => {\r\n\t// State\r\n\tconst [rover, setRover] = React.useState(\"curiosity\")\r\n\tconst [sol, setSol] = React.useState(\"\")\r\n\tconst [earthDate, setEarthDate] = React.useState(\"\")\r\n\tconst [camera, setCamera] = React.useState(\"\")\r\n\tconst [availableCameras, setAvailableCameras] = React.useState([])\r\n\r\n\t// Redux hooks\r\n\tconst dispatch = useDispatch()\r\n\tconst { photos, loading, hasErrors } = useSelector(photosSelector)\r\n\tconst { manifest } = useSelector(manifestSelector)\r\n\r\n\tReact.useEffect(() => {\r\n\t\t// Get mission manifest\r\n\t\tdispatch(fetchManifest(rover))\r\n\t\t// Get latest photos\r\n\t\tdispatch(fetchLatestPhotos(rover))\r\n\t\t// Get available cameras\r\n\t\tlet availableCameras = []\r\n\t\tif (rover === \"curiosity\") {\r\n\t\t\tavailableCameras = [\"\", \"FHAZ\", \"RHAZ\", \"MAST\", \"CHEMCAM\", \"MAHLI\", \"MARDI\", \"NAVCAM\"]\r\n\t\t} else {\r\n\t\t\tavailableCameras = [\"\", \"FHAZ\", \"RHAZ\", \"NAVCAM\", \"PANCAM\", \"MINITES\"]\r\n\t\t}\r\n\t\tsetAvailableCameras(availableCameras)\r\n\t}, [dispatch, rover])\r\n\r\n\t// Normalize photos for Gallery\r\n\tconst normalizePhotos = () => {\r\n\t\tlet filteredPhotos = []\r\n\t\tphotos.forEach((photo) => {\r\n\t\t\tfilteredPhotos.push({\r\n\t\t\t\tsrc: photo.img_src,\r\n\t\t\t\tthumbnail: photo.img_src,\r\n\t\t\t\tthumbnailWidth: 1000,\r\n\t\t\t\tthumbnailHeight: 1000,\r\n\t\t\t\tcamera: photo.camera.name,\r\n\t\t\t})\r\n\t\t})\r\n\t\treturn filteredPhotos\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='main-container'>\r\n\t\t\t<header>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\t<a href='/'>Mars Rover Photos</a>\r\n\t\t\t\t</h1>\r\n\t\t\t</header>\r\n\t\t\t<div className='first-section'>\r\n\t\t\t\t{/* Radio Button */}\r\n\t\t\t\t<SelectRoverForm rover={rover} setRover={setRover} setSol={setSol} setEarthDate={setEarthDate} />\r\n\t\t\t\t{/* Manifests */}\r\n\t\t\t\t<Manifest />\r\n\t\t\t\t{/* Search Form */}\r\n\t\t\t\t<SearchForm\r\n\t\t\t\t\trover={rover}\r\n\t\t\t\t\tmanifest={manifest}\r\n\t\t\t\t\tsol={sol}\r\n\t\t\t\t\tearthDate={earthDate}\r\n\t\t\t\t\tcamera={camera}\r\n\t\t\t\t\tsetSol={setSol}\r\n\t\t\t\t\tsetEarthDate={setEarthDate}\r\n\t\t\t\t\tsetCamera={setCamera}\r\n\t\t\t\t\tavailableCameras={availableCameras}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='second-section'>\r\n\t\t\t\t{/* Photo Gallery */}\r\n\t\t\t\t{photos.length > 0 && <GridGallery photos={normalizePhotos()} />}\r\n\t\t\t\t{photos.length === 0 && !loading && !hasErrors && (\r\n\t\t\t\t\t<div className='emptyState'>There are no photos with the specified data</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className='footer'>\r\n\t\t\t\t<a className='signature' href='https://www.linkedin.com/in/fabricio-borgobello-59468775/' target='_blank' rel='noreferrer'>\r\n\t\t\t\t\tFabricio Borgobello\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import { combineReducers } from \"redux\"\r\n\r\nimport photosReducer from \"./photos\"\r\nimport manifestReducer from \"./manifest\"\r\n\r\nconst rootReducer = combineReducers({\r\n\tphotos: photosReducer,\r\n\tmanifest: manifestReducer,\r\n})\r\n\r\nexport default rootReducer\r\n","import React from \"react\"\r\nimport { render } from \"react-dom\"\r\nimport { configureStore } from \"@reduxjs/toolkit\"\r\nimport { Provider } from \"react-redux\"\r\n\r\nimport App from \"./App\"\r\nimport rootReducer from \"./slices\"\r\n\r\nimport \"./index.css\"\r\n\r\nconst store = configureStore({ reducer: rootReducer })\r\n\r\nrender(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}