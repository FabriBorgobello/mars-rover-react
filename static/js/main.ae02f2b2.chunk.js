(this["webpackJsonpmars-rover-react"]=this["webpackJsonpmars-rover-react"]||[]).push([[0],{178:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var r=a(4),s=a(0),n=a(10),c=a(36),o=a(21),i=a(24),l=a(224),h=a(225),j=a(220),u=a(226),d=a(223),b=a(228),m=a(219),p=a(229),O=a(217),f=a(27),x=a.n(f),v=a(44),g=a(88),S=a.n(g).a.create({baseURL:"https://api.nasa.gov/mars-photos/api/v1/",params:{api_key:"HBh7tVBsNeFVpQdfghC8wdqHaWw674JjQ1AAHscC"}}),N=Object(c.b)({name:"photos",initialState:{loading:!1,hasErrors:!1,photos:[]},reducers:{getPhotos:function(e){e.loading=!0},getPhotosSuccess:function(e,t){var a=t.payload;e.photos=a,e.loading=!1,e.hasErrors=!1},getPhotosFailure:function(e){e.loading=!1,e.hasErrors=!0}}}),y=N.actions,C=y.getPhotos,E=y.getPhotosSuccess,M=y.getPhotosFailure,A=N.reducer,w=function(e){return e.photos},_=function(e){var t=e.rover,a=e.manifest,n=e.sol,c=e.earthDate,f=e.camera,g=e.setSol,N=e.setEarthDate,y=e.setCamera,A=e.availableCameras,w=s.useState("sol"),_=Object(i.a)(w,2),P=_[0],k=_[1],I=Object(o.b)();return Object(r.jsxs)("div",{className:"card card-search",children:[Object(r.jsx)("h2",{children:"Search photos by..."}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:"inputs",children:[Object(r.jsxs)(l.a,{defaultValue:P,"aria-label":"rover",name:"rover",onChange:function(e){return k(e.target.value)},children:[Object(r.jsx)(h.a,{value:"sol",control:Object(r.jsx)(j.a,{}),label:"Sol"}),Object(r.jsx)(h.a,{value:"earth_date",control:Object(r.jsx)(j.a,{}),label:"Earth date"})]}),Object(r.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),I(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var s=Object(v.a)(x.a.mark((function s(n){var c,o;return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={},c=r?t?{params:{sol:t,camera:r}}:{params:{earth_date:a,camera:r}}:t?{params:{sol:t}}:{params:{earth_date:a}},n(C()),s.prev=3,s.next=6,S.get("rovers/".concat(e,"/photos"),c);case 6:o=s.sent,n(E(o.data.photos)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),n(M());case 13:case"end":return s.stop()}}),s,null,[[3,10]])})));return function(e){return s.apply(this,arguments)}}()}(t,n,c,f))},children:["sol"===P&&Object(r.jsx)(u.a,{className:"formElement",title:"Martian rotation or day on which the photos were taken, counting up from the rover's landing date.",children:Object(r.jsx)(d.a,{id:"sol",type:"number",label:"Sol date (?)",value:n,onChange:function(e){g(e.target.value),N("")},InputProps:{inputProps:{min:0,max:a.max_sol}},InputLabelProps:{shrink:!0},fullWidth:!0,required:!0})}),"earth_date"===P&&Object(r.jsx)(d.a,{className:"formElement",id:"sol",type:"date",label:"Earth day",InputProps:{inputProps:{min:a.landing_date,max:a.max_date}},value:c,onChange:function(e){N(e.target.value),g("")},InputLabelProps:{shrink:!0},fullWidth:!0,required:!0}),Object(r.jsxs)("div",{className:"formElement",children:[Object(r.jsx)(b.a,{id:"Cameral",children:"Select camera (optional)"}),Object(r.jsx)(m.a,{fullWidth:!0,labelId:"Camera",value:f,onChange:function(e){return y(e.target.value)},children:A.map((function(e){return Object(r.jsx)(p.a,{value:e,children:e})}))})]}),Object(r.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:"Search"})]})]})]})},P=a(93),k=a.n(P),I=a(221),D=a(218),H=function(e){var t=e.photos,a=s.useState(1),n=Object(i.a)(a,2),c=n[0],l=n[1],h=Object(o.c)(w),j=h.loading,u=h.hasErrors,d=25*c,b=d-25,m=t.slice(b,d),p=Math.ceil(Number(t.length)/25);return Object(r.jsxs)("div",{className:"gallery",children:[Object(r.jsx)("h2",{children:"Gallery"}),Object(r.jsx)("hr",{}),j&&Object(r.jsx)(D.a,{}),u&&Object(r.jsx)("div",{className:"card card-manifest",children:"An error has occured. Please reload."}),t&&!j&&Object(r.jsx)(k.a,{margin:10,images:m,enableImageSelection:!1,backdropClosesModal:!0,showCloseButton:!1,showImageCount:!1}),1!==p&&Object(r.jsx)("div",{className:"pagination",children:Object(r.jsx)(I.a,{count:p,page:c,onChange:function(e,t){return l(t)},variant:"text",color:"primary",size:"large"})})]})},R=Object(c.b)({name:"manifest",initialState:{loading:!1,hasErrors:!1,manifest:{}},reducers:{getManifest:function(e){e.loading=!0},getManifestSuccess:function(e,t){var a=t.payload;e.manifest=a,e.loading=!1,e.hasErrors=!1},getManifestFailure:function(e){e.loading=!1,e.hasErrors=!0}}}),F=R.actions,L=F.getManifest,V=F.getManifestSuccess,B=F.getManifestFailure,W=R.reducer,Z=function(e){return e.manifest},q=function(){var e=Object(o.c)(Z),t=e.manifest,a=e.loading,s=e.hasErrors;return Object(r.jsxs)("div",{className:"card card-manifest",children:[Object(r.jsx)("h2",{children:"Mission Manifest"}),Object(r.jsx)("hr",{}),a&&Object(r.jsx)(D.a,{}),s&&Object(r.jsx)("div",{className:"card card-manifest",children:"An error has occured. Please reload."}),t&&!a&&Object(r.jsxs)("ul",{children:[Object(r.jsxs)("h3",{children:[Object(r.jsx)("b",{children:"Rover name:"})," ",t.name]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Launch Date:"})," ",t.launch_date]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Landing Date:"})," ",t.landing_date]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Max Date:"})," ",t.max_date]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("b",{children:"Max Sol:"})," ",t.max_sol]})]})]})},J=function(e){var t=e.rover,a=e.setRover,s=e.setSol,n=e.setEarthDate;return Object(r.jsxs)("div",{className:"card card-rover",children:[Object(r.jsx)("h2",{children:"Rovers"}),Object(r.jsx)("hr",{}),Object(r.jsxs)(l.a,{className:"radio",defaultValue:t,"aria-label":"rover",name:"rover",onChange:function(e){s(""),n(""),a(e.target.value)},children:[Object(r.jsx)(h.a,{value:"curiosity",control:Object(r.jsx)(j.a,{}),label:"Curiosity"}),Object(r.jsx)(h.a,{value:"opportunity",control:Object(r.jsx)(j.a,{}),label:"Opportunity"}),Object(r.jsx)(h.a,{value:"spirit",control:Object(r.jsx)(j.a,{}),label:"Spirit"})]}),Object(r.jsx)("img",{id:"nasa-logo",src:"https://logos-marcas.com/wp-content/uploads/2020/05/NASA-Logo-650x366.png",alt:"NASA Logo"})]})},T=function(){var e=s.useState("curiosity"),t=Object(i.a)(e,2),a=t[0],n=t[1],c=s.useState(""),l=Object(i.a)(c,2),h=l[0],j=l[1],u=s.useState(""),d=Object(i.a)(u,2),b=d[0],m=d[1],p=s.useState(""),O=Object(i.a)(p,2),f=O[0],g=O[1],N=s.useState([]),y=Object(i.a)(N,2),A=y[0],P=y[1],k=Object(o.b)(),I=Object(o.c)(w),D=I.photos,R=I.loading,F=I.hasErrors,W=Object(o.c)(Z).manifest;s.useEffect((function(){k(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(L()),t.prev=1,t.next=4,S.get("manifests/".concat(e));case 4:r=t.sent,a(V(r.data.photo_manifest)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(B());case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(a)),k(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(a){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(C()),t.prev=1,t.next=4,S.get("rovers/".concat(e,"/latest_photos"));case 4:r=t.sent,a(E(r.data.latest_photos)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(M());case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(a));P("curiosity"===a?["","FHAZ","RHAZ","MAST","CHEMCAM","MAHLI","MARDI","NAVCAM"]:["","FHAZ","RHAZ","NAVCAM","PANCAM","MINITES"])}),[k,a]);return Object(r.jsxs)("div",{className:"main-container",children:[Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:Object(r.jsx)("a",{href:"/",children:"Mars Rover Photos"})})}),Object(r.jsxs)("div",{className:"first-section",children:[Object(r.jsx)(J,{rover:a,setRover:n,setSol:j,setEarthDate:m}),Object(r.jsx)(q,{}),Object(r.jsx)(_,{rover:a,manifest:W,sol:h,earthDate:b,camera:f,setSol:j,setEarthDate:m,setCamera:g,availableCameras:A})]}),Object(r.jsxs)("div",{className:"second-section",children:[D.length>0&&Object(r.jsx)(H,{photos:function(){var e=[];return D.forEach((function(t){e.push({src:t.img_src,thumbnail:t.img_src,thumbnailWidth:1e3,thumbnailHeight:1e3,camera:t.camera.name})})),e}()}),0===D.length&&!R&&!F&&Object(r.jsx)("div",{className:"emptyState",children:"There are no photos with the specified data"})]}),Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)("a",{className:"signature",href:"https://www.linkedin.com/in/fabricio-borgobello-59468775/",target:"_blank",rel:"noreferrer",children:"Fabricio Borgobello"})})]})},Q=a(17),z=Object(Q.c)({photos:A,manifest:W}),G=(a(178),Object(c.a)({reducer:z}));Object(n.render)(Object(r.jsx)(o.a,{store:G,children:Object(r.jsx)(T,{})}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.ae02f2b2.chunk.js.map